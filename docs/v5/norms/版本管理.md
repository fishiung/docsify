# 组件版本号&代码分支规范



## 管理策略

- 在Gitlab上新建Group，作为数据技术部的代码仓库空间，将分散在各个Group里的Project迁移至这个Group，统一管理
- 产品的版本号命名规范化
- 建立不同的代码分支：master、develop、feature、release，支持多分支并行开发，保证版本管理严谨、不混乱
- master和develop分支是受保护分支，也可以根据情况将feature设为受保护分支，当代码合并到受保护分支时，进行代码审核
- 每次新版本发布时，需要在master上打相应的tag
- 维护中台版本与各产品版本的映射表



## 分支说明

| 类型    | 作用                                                         | 命名规范                                                    | 受保护       | 可回收 |
| ------- | ------------------------------------------------------------ | ----------------------------------------------------------- | ------------ | ------ |
| master  | 存放的是可在生产环境中上线的代码，也是最新发布的稳定的代码   | master                                                      | 是           | 否     |
| develop | 开发过程中的主开发分支，每次大版本迭代或者项目定制化代码需要建立的分支 | branch-x.x  <br/>例如：branch-3.3、branch-3.4               | 是           | 否     |
| feature | topic分支，从develop分支派生，可更自由命名，开发完成之后需要将代码提交到develop分支 | 可随意命名，规范建议：feature-xxx<br/>例如：feature-duozuhu | 根据情况而定 | 是     |
| release | 用于发版测试、bug修复的分支。从develop或master分支派生，测试完成之后需要同时合并到develop分支和master分支 | release-3.3.0、release-3.3.0-rc                             | 是           | 是     |



## 版本号命名规范

> **Major版本**.**Minor版本**.**Micro版本**
>
> 示例：3.3.1、3.2.0

| 版本  | 说明           |
| ----- | -------------- |
| Major | 架构调整       |
| Minor | 新特性         |
| Micro | Bug 修复、优化 |

