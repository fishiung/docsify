# 代码评审绩效核算说明



## 1 说明

- 以下提到的所有关于平均分的计算，均去掉样本中的最高分和最低分，计算结果精确到小数点后三位

- 分数的计算，以及分数的高低服务于最后的排名

- 排名的重要性说明：绩效等级由高到低划分为A,B,C,D，A等级人数有限，或者无法和公司申请出更多人数时，按照排名依次换分等级

  > 假设每个团队有一个绩效为A名额，团队内小明,小天 同分，但由于排名规则，小明高于小天 ，可能导致的结果是小明的绩效为A，小天的绩效为B
  
- 制定原则：本职工作为重，重提高，重参与，轻流程

- 代码评审全员参与，互相监督，共同进步



## 2 计算规则


### 2.1 总分计算规则

| 成员                | Contributor（C1）                   | Committer(C2)                      | 总分(S)                       |
| ------------------- | ----------------------------------- | ---------------------------------- | ----------------------------- |
| 组长&技术委员会成员 | 百分制（Bounds 20分） — 占比**30%** | 百分制（Bounds 20分）— 占比**70%** | S = 0.3 * S(C1) + 0.7 * S(C2) |
| 组员                | 百分制（Bounds 20分） — 占比**70%** | 百分制（Bounds 20分）— 占比**30%** | S = 0.7 * S(C1) + 0.3 * S(C2) |

>  **组长&技术委员会成员**
>
> - 总分相同时，C2 分数高者，排名越高
> - 总分相同时，C2 分数也相同，组员 C1 平均分数高者，排名越高
>
> **组员**
>
> - 总分相同时，C1分数高者，排名越高
> - 总分相同时，C1分数也相同，组长 C2 分数高者，排名越高




### 2.2 Contributor（C1）计算规则


#### 2.2.1 组长&技术委员会成员

- 在一个绩效结算区间内，自然月平均提交 Merge Request 的次数记为 N ；那么

  - N < = 1 ; 该项成绩取组员 C1(仅基础分，不含Bounds分数) 平均值
  - N  > 1 ;该项成绩按照组员标准核算

  > 自然月平均提交 Merge Request 的次数 N =  avg(每个自然月提交Merge Request次数) ，结果向下取整

#### 2.2.2 组员

- 基础分100分
- 单次 Merge Request 中，每命中一条开发规范中的事项，扣1分，重复命中仅扣分一次
- 单次 Merge Request 中，若命中在上次 Merge Request 中已经指出的事项，每条扣3分，重复命中仅扣分一次
- 若为 0 分 则不考虑其他所有分数，总分记为 0

#### 2.2.3 Bounds  

- 作为代码评审会议分享的优秀代码，每次加 5 分

- 若一个自然月内，没有命中开发规范中的事项，

  -  commit次数  <= 10 ; 加 1 分
  - 10 <  commit次数  <= 20 ; 加 3 分
  -  20  < commit次数 ; 加 5 分

- 若Bounds分数已满则忽略，且不可抵扣基础分的扣分

  
### 2.3 Committer（C2）计算规则

#### 2.3.1 组长&技术委员会成员

- 基础分100分

- 每个自然月，抽查一次代码评审执行效果，抽查范围是其Review成员的随机3个commit，

- 若抽查发现一处不符合开发规范的事项，扣2分，单个commit的重复事项只扣一次

- 若抽查样本全部合格，Bounds分数加 2 分

- 若抽查样本中 Committer 对于Contributor 的批注有指导意义，尽责，对Contributor或者工程起到好的作用。Bounds分数加 5 分

  > **如何判断是否起到好的作用？**
  >
  > - 由抽查人向技术委员会提出，技术委员会成员共同裁定
  >
  > - Committer 主动向抽查人提出
  > - 不错过任何一次好的代码评审工作反馈

- 若发现与上个自然月抽查中已经命中的事项，每一处扣4分，单个commit的重复事项只扣一次

- 若为 0 分 则不考虑其他所有分数，总分记为 0

- 若Bounds分数已满则忽略，且不可抵扣基础分的扣分

#### 2.3.2 组员

- 在一个绩效结算区间内，参与代码评审的自然月平均次数记为 N ；那么

  - N < 4 ; 该项成绩取其组长的 C2 (仅基础分，不含Bounds 分数)分数
  - 4 = N  ; 满分，无Bounds分数
  - 4 < N  ; 满分 ，且每多一次，Bounds 加5分，

  > 自然月平均次数 N =  avg(每个自然月参与代码评审的次数) ，结果向下取整

- 若Bounds分数已满则忽略，且不可抵扣基础分的扣分

